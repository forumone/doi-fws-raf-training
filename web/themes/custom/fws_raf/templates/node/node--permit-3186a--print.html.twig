{#
/**
 * @file
 * Custom theme implementation to present permit_3186a data in print view mode.
 *
 * This template overrides the default node.html.twig template specifically for
 * the permit_3186a node type to display fields from field groups 1-6 in a
 * print-friendly format.
 *
 * Available variables:
 * - content: A list of content items. Use 'content' to print all content, or
 *   print a subset such as 'content.field_example'.
 * - attributes: HTML attributes for the container element.
 * - node: A Drupal Node entity.
 *
 * @see template_preprocess_node()
 */
#}

{%
  set classes = [
    'permit-information',
    'permit-information--print',
    node.bundle|clean_class,
    node.isPromoted() ? 'is-promoted',
    node.isSticky() ? 'is-sticky',
    not node.isPublished() ? 'is-unpublished',
    view_mode ? view_mode|clean_class,
    'clearfix',
  ]
%}

<article{{ attributes.addClass(classes) }}>
  {# Form Header #}
  <div class="permit__header">

    <div class="permit__column permit__column--left">
      <div class="form-number">FWS Form 3-186a (Rev. 01/2020)</div>
      <div class="department">U.S. Department of the Interior</div>
      BADGE
      <div class="office-use-label">USFWS Use Only</div>
      <span>Received in Regional Office on</span>
      <span>_______/_______/_______</span>
      <br>
      <span>Initials:</span>
      <span>_______</span>
    </div>
    <div class="permit__column permit__column--center">
      <h1 class="form-title">FEDERAL FISH AND WILDLIFE PERMIT APPLICATION FORM</h1>
      <h2 class="form-subtitle">Migratory Bird Acquisition and Disposition</h2>
      <div class="form-citation">(Migratory Bird Treaty Act, 50 CFR 21.29, 21.30)</div>
      <div class="form-agency">U.S. Fish and Wildlife Service</div>
      <div class="form-division">Division of Migratory Bird Management</div>
    </div>
    <div class="permit__column permit__column--right">
      <div class="omb-number">OMB Control No. 1018-00</div>
      <div class="expiration">Expires {{ "now"|date_modify("+1 year")|date("m/d/Y") }}</div>
      BADGE
    </div>
  </div>

  <div class="permit-form-container">
    {# Section 1: Species Information #}
    <div class="permit-section section-1">
      <div class="section-number">1</div>
      <div class="section-content">
        <div class="field-row">
          <div class="field-label">Species:</div>
          <div class="field-value">{{ content.field_species_name }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Sex:</div>
          <div class="field-value checkbox-field">
            {% set species_sex = content.field_species_sex|field_value.0['#plain_text']|default('') %}
            <span class="checkbox {% if species_sex == 'FEMALE' %}checked{% endif %}">{% if species_sex == 'FEMALE' %}☑{% else %}☐{% endif %}</span> Female
            <span class="checkbox {% if species_sex == 'MALE' %}checked{% endif %}">{% if species_sex == 'MALE' %}☑{% else %}☐{% endif %}</span> Male
            <span class="checkbox {% if species_sex == 'Unknown' or species_sex == '' %}checked{% endif %}">{% if species_sex == 'Unknown' or species_sex == '' %}☑{% else %}☐{% endif %}</span> Unknown
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">Source:</div>
          <div class="field-value checkbox-field">
            {% set species_source = content.field_species_source|field_value.0['#plain_text']|default('') %}
            <span class="checkbox {% if species_source == 'WILD' %}checked{% endif %}">{% if species_source == 'WILD' %}☑{% else %}☐{% endif %}</span> Wild
            <span class="checkbox {% if species_source == 'CAPTIVE_BRED' %}checked{% endif %}">{% if species_source == 'CAPTIVE-BRED' %}☑{% else %}☐{% endif %}</span> Captive-bred
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">Age:</div>
          <div class="field-value checkbox-field">
            {% set species_age = content.field_species_age|field_value.0['#plain_text']|default('') %}
            <span class="checkbox {% if species_age == 'ADULT' %}checked{% endif %}">{% if species_age == 'ADULT' %}☑{% else %}☐{% endif %}</span> Adult
            <span class="checkbox {% if species_age == 'JUVENILE' %}checked{% endif %}">{% if species_age == 'JUVENILE' %}☑{% else %}☐{% endif %}</span> Juvenile
            <span class="checkbox {% if species_age == 'Unknown' or species_age == '' %}checked{% endif %}">{% if species_age == 'Unknown' or species_age == '' %}☑{% else %}☐{% endif %}</span> Unknown
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">USFWS Band Number:</div>
          <div class="field-value">{{ content.field_species_band_no }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Wild Microchip Number:</div>
          <div class="field-value">{{ content.field_species_microchip_no ? content.field_species_microchip_no : 'Unknown' }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Year of Hatch:</div>
          <div class="field-value">{{ content.field_species_hatch_year }}</div>
        </div>
      </div>
    </div>

    {# Section 2: Sender Information #}
    <div class="permit-section section-2">
      <div class="section-number">2</div>
      <div class="section-content">
        <div class="section-title">SENDER <span class="title-note">(person transferring bird)</span></div>

        <div class="field-row">
          <div class="field-label">Name:</div>
          <div class="field-value">
            {{ content.field_sender_first_name }}
            {% if content.field_sender_middle_name %} {{ content.field_sender_middle_name }} {% endif %}
            {{ content.field_sender_last_name }}
          </div>

          <div class="field-label right-aligned">USFWS Permit No.:</div>
          <div class="field-value">{{ content.field_sender_permit_no }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Address:</div>
          <div class="field-value">{{ content.field_sender_street_address }}</div>

          <div class="field-label right-aligned">Date of Transfer (or other action):</div>
          <div class="field-value">{{ content.field_sender_dt_transfer }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">City:</div>
          <div class="field-value">{{ content.field_sender_city }}</div>

          <div class="field-label mid-aligned">State:</div>
          <div class="field-value">{{ content.field_sender_st_cd }}</div>

          <div class="field-label mid-aligned">Zip:</div>
          <div class="field-value">{{ content.field_sender_zip_cd }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">E-Mail Address:</div>
          <div class="field-value">{{ content.field_sender_email }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Permit:</div>
          <div class="field-value checkbox-field">
            {% if content.field_sender_permit_type|render|trim == 'Captive Breeding' %}
              <span class="checkbox checked">☑</span> Captive Breeding
            {% else %}
              <span class="checkbox">☐</span> Captive Breeding
            {% endif %}
            {% if content.field_sender_permit_type|render|trim == 'Falconry' %}
              <span class="checkbox checked">☑</span> Falconry
            {% else %}
              <span class="checkbox">☐</span> Falconry
            {% endif %}
            {% if content.field_sender_permit_type|render|trim == 'Raptor Propagation' %}
              <span class="checkbox checked">☑</span> Raptor Propagation
            {% else %}
              <span class="checkbox">☐</span> Raptor Propagation
            {% endif %}
            {% if content.field_sender_permit_type|render|trim == 'Other' %}
              <span class="checkbox checked">☑</span> Other
            {% else %}
              <span class="checkbox">☐</span> Other
            {% endif %}
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">Transfer:</div>
          <div class="field-value checkbox-field">
            {% if content.field_sender_transfer_type|render|trim == 'Gift' %}
              <span class="checkbox checked">☑</span> Gift
            {% else %}
              <span class="checkbox">☐</span> Gift
            {% endif %}
            {% if content.field_sender_transfer_type|render|trim == 'Purchase/Sale/Barter' %}
              <span class="checkbox checked">☑</span> Purchase/Sale/Barter
            {% else %}
              <span class="checkbox">☐</span> Purchase/Sale/Barter
            {% endif %}
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">If Release or Loss:</div>
          <div class="field-value checkbox-field">
            {% if content.field_species_loss_type|render|trim == 'Loss' %}
              <span class="checkbox checked">☑</span>
            {% else %}
              <span class="checkbox">☐</span>
            {% endif %}
          </div>

          <div class="field-label right-aligned">-- Cause of Death:</div>
          <div class="field-value">{{ content.field_cause_of_death }}</div>
        </div>
      </div>
    </div>

    {# Section 3: Recipient Information #}
    <div class="permit-section section-3">
      <div class="section-number">3</div>
      <div class="section-content">
        <div class="section-title">RECIPIENT <span class="title-note">(person acquiring bird)</span></div>

        <div class="field-row">
          <div class="field-label">Name:</div>
          <div class="field-value">
            {{ content.field_recipient_first_name }}
            {% if content.field_recipient_middle_name %} {{ content.field_recipient_middle_name }} {% endif %}
            {{ content.field_recipient_last_name }}
          </div>

          <div class="field-label right-aligned">USFWS Permit No.:</div>
          <div class="field-value">{{ content.field_recipient_permit_no }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Address:</div>
          <div class="field-value">{{ content.field_recipient_street_address }}</div>

          <div class="field-label right-aligned">Date of Acquisition:</div>
          <div class="field-value">{{ content.field_recipient_dt_acquired }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">City:</div>
          <div class="field-value">{{ content.field_recipient_city }}</div>

          <div class="field-label mid-aligned">State:</div>
          <div class="field-value">{{ content.field_recipient_st_cd }}</div>

          <div class="field-label mid-aligned">Zip:</div>
          <div class="field-value">{{ content.field_recipient_zip_cd }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">E-Mail Address:</div>
          <div class="field-value">{{ content.field_recipient_email }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">Permit:</div>
          <div class="field-value checkbox-field">
            {% if content.field_recipient_permit_type|render|trim == 'Captive Breeding' %}
              <span class="checkbox checked">☑</span> Captive Breeding
            {% else %}
              <span class="checkbox">☐</span> Captive Breeding
            {% endif %}
            {% if content.field_recipient_permit_type|render|trim == 'Falconry' %}
              <span class="checkbox checked">☑</span> Falconry
            {% else %}
              <span class="checkbox">☐</span> Falconry
            {% endif %}
            {% if content.field_recipient_permit_type|render|trim == 'Raptor Propagation' %}
              <span class="checkbox checked">☑</span> Raptor Propagation
            {% else %}
              <span class="checkbox">☐</span> Raptor Propagation
            {% endif %}
            {% if content.field_recipient_permit_type|render|trim == 'Other' %}
              <span class="checkbox checked">☑</span> Other
            {% else %}
              <span class="checkbox">☐</span> Other
            {% endif %}
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">Type of Acquisition:</div>
          <div class="field-value checkbox-field">
            {% if content.field_recipient_acquisition_type|render|trim == 'Gift' %}
              <span class="checkbox checked">☑</span> Gift
            {% else %}
              <span class="checkbox">☐</span> Gift
            {% endif %}
            {% if content.field_recipient_acquisition_type|render|trim == 'Purchase/Sale/Barter' %}
              <span class="checkbox checked">☑</span> Purchase/Sale/Barter
            {% else %}
              <span class="checkbox">☐</span> Purchase/Sale/Barter
            {% endif %}
          </div>

          <div class="field-note right-aligned">(complete section 4 if Capture/ReCapture)</div>
        </div>
      </div>
    </div>

    {# Section 4: Capture or Recapture #}
    <div class="permit-section section-4">
      <div class="section-number">4</div>
      <div class="section-content">
        <div class="section-title">CAPTURE OR RECAPTURE <span class="title-note">bird taken from the wild; provide band number in Section 1</span></div>

        <div class="field-row">
          <div class="field-value checkbox-field right-aligned">
            {% if content.field_capture_recapture_cd|render|trim == 'Re-Capture' %}
              <span class="checkbox checked">☑</span> Re-Capture
            {% else %}
              <span class="checkbox">☐</span> Re-Capture
            {% endif %}
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">For all species, County (or comparable subdivision) and State of trapping location:</div>
          <div class="field-value">{{ content.field_trap_county }} {{ content.field_state_of_trap_location }}</div>
        </div>

        <div class="field-row">
          <div class="field-label">If you captured a gyrfalcon, what color is it?</div>
          <div class="field-value checkbox-field">
            {% if content.field_gyrfalcon_color|render|trim != '' %}
              <span class="checkbox checked">☑</span>
            {% else %}
              <span class="checkbox">☐</span>
            {% endif %}
            {{ content.field_gyrfalcon_color }}
          </div>
        </div>
      </div>
    </div>

    {# Section 5: Re-banding #}
    <div class="permit-section section-5">
      <div class="section-number">5</div>
      <div class="section-content">
        <div class="section-title">RE-BANDING <span class="title-note">(to report the re-banding of a wild or captive-bred bird)</span></div>
        <div class="field-note right-aligned">REQUIRED: Old bands returned to Migratory Bird Permit Office</div>

        <div class="field-row">
          <div class="field-label">Old Number:</div>
          <div class="field-value">{{ content.field_species_band_old_no }}</div>

          <div class="field-value checkbox-field right-aligned">
            {% if content.field_reband_microchip|render|trim == '1' %}
              <span class="checkbox checked">☑</span> Microchip
            {% else %}
              <span class="checkbox">☐</span> Microchip
            {% endif %}
          </div>
        </div>

        <div class="field-row">
          <div class="field-label">New Number:</div>
          <div class="field-value">{{ content.field_species_band_new_no }}</div>

          <div class="field-value checkbox-field right-aligned">
            {% if content.field_reband_black_plastic|render|trim == '1' %}
              <span class="checkbox checked">☑</span> Black Plastic
            {% else %}
              <span class="checkbox">☐</span> Black Plastic
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    {# Section 6: Certification #}
    <div class="permit-section section-6">
      <div class="section-number">6</div>
      <div class="section-content">
        <div class="section-title">CERTIFICATION.</div>
        <div class="certification-text">I certify that the information submitted above is true and correct to the best of my knowledge. I understand that making a false statement may subject me to the criminal penalties of 18 U.S.C. 1001.</div>

        <div class="field-row">
          <div class="field-label">Print name:</div>
          <div class="field-value">{{ content.field_falc_applicant_name }}</div>

          <div class="field-label right-aligned">Phone Number (with area code):</div>
          <div class="field-value">{{ content.field_falc_phone_number }}</div>
        </div>

        <div class="field-row signature-row">
          <div class="field-label">Signature of Permittee/Principal Officer:</div>
          <div class="field-value signature-field"></div>

          <div class="field-label right-aligned">Date of Signature:</div>
          <div class="field-value">{{ content.field_falc_dt_signed }}</div>
        </div>

        <div class="field-row signature-note">
          <div class="field-label">(No stamped signatures. Electronic signatures</div>
          <div class="field-label right-aligned">(mm/dd/yyyy)</div>
        </div>
      </div>
    </div>
  </div>
</article>
